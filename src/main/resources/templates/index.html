<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" >
    <head>
        <meta charset="UTF-8" />
        <meta name="description" content="Web Application for Bat of Snack after Lunch Time" />
        <meta name="author" content="jsw" />
        <title>SnackBat</title>

        <!-- favicon -->
        <link rel="icon" href="/image/favicon.ico" />

        <!-- BootStarp CSS -->
        <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.1.2/css/bootstrap.min.css}" />
        <!-- fontawesome CSS -->
        <link rel="stylesheet" th:href="@{/css/fontawesome/all.min.css}" />

        <link rel="stylesheet" th:href="@{/css/main.css}" />
    </head>
    <body>
        <div class="bat">
        </div>
        <div class="chat">
            <div id="room">
                <div class="input-group mb-3">
                    <span id="from" sec:authentication="name"></span>
                    <button id="connect" class="btn btn-outline-success" >
                        <i class="fas fa-door-open"></i>
                    </button>
                    <button id="disconnect" class="btn btn-outline-danger" disabled="disabled" >
                        <i class="fas fa-door-closed"></i>
                    </button>
                </div>
                <ul id="users"></ul>
            </div>
            <div>
                <ul class="messages"></ul>
                <div id="conversationDiv" class="input-group my-2">
                    <input type="text" id="text" class="form-control" disabled="disabled" placeholder="Write a message..." />
                    <button type="button" id="sendMessage" class="btn btn-outline-success" disabled="disabled" >
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>

        <div class="message_template">
            <li class="message">
                <div class="avatar"></div>
                <div class="text_wrapper">
                    <div class="text"></div>
                </div>
            </li>
        </div>

        <script th:inline="javascript">
            const userName = /*[[${#authentication.principal.username}]]*/
        </script>

        <!-- JQuery -->
        <script th:src="@{/webjars/jquery/3.6.0/jquery.min.js}"></script>
        <!-- Bootstrap -->
        <script th:src="@{/webjars/bootstrap/5.1.2/js/bootstrap.min.js}"></script>
        
        <!-- sockjs, stomp-->
        <script th:src="@{/webjars/sockjs-client/sockjs.min.js}"></script>
        <script th:src="@{/webjars/stomp-websocket/stomp.min.js}"></script>

        <script th:src="@{/js/main.js}"></script>

    </body>
</html>